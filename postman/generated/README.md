# Komodo DeFi Framework (KDF) Postman Collection

This directory contains the automatically generated Postman collection for the Komodo DeFi Framework API.

## Files

### `kdf_postman_collection.json`
The main Postman collection file containing all API requests organized by version and method groups.

**Features:**
- ✅ Organized folder structure matching the KDF directory hierarchy
- ✅ Automatic userpass variable substitution (`{{ userpass }}`)
- ✅ Task ID variable management for method groups
- ✅ Pre-request and test scripts for task ID capture
- ✅ Proper request formatting with headers and JSON bodies
- ✅ Translated request names using kdf_methods.json
- ✅ Multiple examples per method (variants) in response section
- ✅ Parameter documentation tables from @tables/ files

**Collection Structure:**
```
├── legacy/
│   └── coin_activation/
│       └── enable/
│           └── Enable Matic Token (Legacy)
└── v2/
    └── coin_activation/
        └── task/
            └── enable_utxo/
                ├── init/ → Initialize UTXO Coin
                ├── status/ → Check UTXO Task Status
                ├── user_action/ → task::enable_utxo::user_action (with examples)
                └── cancel/ → Cancel UTXO Task
```

**Collection Variables:**
- `base_url`: Default KDF API endpoint (http://127.0.0.1:7783)
- `userpass`: RPC authentication password
- `TaskEnableUtxo_TaskId`: Automatically captured from init responses

## Usage Instructions

### Importing to Postman

1. Open Postman
2. Click "Import" 
3. Select `kdf_postman_collection.json`
4. The collection will be imported with all requests and variables

### Configuration

Before using the collection, configure these variables:

1. **base_url**: Update if your KDF instance runs on a different host/port
2. **userpass**: Set your actual RPC password
3. **Task ID variables**: These are automatically populated by init requests

### Request Flow

For task-based methods (like TaskEnableUtxo):

1. **Run Init request first**: This captures the `task_id` in a collection variable
2. **Use Status/UserAction/Cancel**: These will automatically use the captured `task_id`

### Example Workflow

1. Run `Initialize UTXO Coin` - captures task_id automatically
2. Run `Check UTXO Task Status` - uses the captured task_id 
3. If needed, run `task::enable_utxo::user_action` with PIN or Passphrase (see examples)
4. Finally run `Cancel UTXO Task` to cancel the task

### Multiple Examples Per Method

Methods with multiple variants show all examples in the response section:
- Main request uses method name for multi-example methods
- Additional variants appear as response examples
- Perfect for documenting different parameter combinations

### Parameter Documentation

Each request includes a formatted table showing all available parameters:
- Parameter name, type (with required/default info), and descriptions
- Generated from table definitions in `src/data/tables/`

## Reports

Validation reports are available in the `../reports/` directory:

- `unused_params.json` - Parameters in tables but not used in examples
- `missing_responses.json` - Request keys without corresponding responses  
- `untranslated_keys.json` - Request keys without translations
- `missing_tables.json` - Methods without table documentation

---

Generated by the KDF Postman Collection Generator.