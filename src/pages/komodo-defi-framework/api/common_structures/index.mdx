export const title = "Komodo DeFi Framework Method: Common Structures";
export const description = "Starting with version beta-2.1.3434, the Komodo DeFi SDK supports the standardized protocol format called mmrpc 2.0.";
import CompactTable from '@/components/mdx/CompactTable';


# Common Structures

## common-structures {{label : 'common_structures', tag : 'overview'}}

The objects are in the request or response of multiple Komodo DeFi SDK methods have been grouped into the following sections:

*   [Activation Common Structures](/komodo-defi-framework/api/common_structures/activation/): Details on activation modes, parameters, and server configurations for various coin types.
*   [Enums](/komodo-defi-framework/api/common_structures/enums/): Enumerated values used across multiple methods, such as swap types, order statuses, and key policies.
*   [Lightning Common Structures](/komodo-defi-framework/api/common_structures/lightning/): Objects for Lightning Network operations, including channel and payment configurations.
*   [NFT Common Structures](/komodo-defi-framework/api/common_structures/nfts/): Structures for non-fungible token (NFT) operations, filters, and metadata.
*   [Order Common Structures](/komodo-defi-framework/api/common_structures/orders/): Structures for orderbook entries, order data, and related parameters.
*   [Swap Common Structures](/komodo-defi-framework/api/common_structures/swaps/): Objects and events related to atomic swaps, including event types and swap status.
    *   [Maker Events](/komodo-defi-framework/api/common_structures/swaps/maker_events/): Step-by-step events and outcomes for atomic swaps from the maker's perspective.
    *   [Taker Events](/komodo-defi-framework/api/common_structures/swaps/taker_events/): Step-by-step events and outcomes for atomic swaps from the taker's perspective.
*   [Wallet Common Structures](/komodo-defi-framework/api/common_structures/wallet/): Structures for wallet operations, address derivation, balances, and key management.

Structures which are used in more than one section are listed below:

### EventStreamConfig

The `EventStreamConfig` object defines which events will be streamed to the client:

<CompactTable source="common.EventStreamConfig" />

Configurable events, and how to enable them, is detailed in the [streaming methods doc](/komodo-defi-framework/api/v20/streaming/)

An example of the event stream output can then be viewed in [https://github.com/KomodoPlatform/komodo-defi-framework/blob/main/examples/sse/index.html?id=CLIENT\_ID](https://github.com/KomodoPlatform/komodo-defi-framework/blob/main/examples/sse/index.html?id=0)

The `CLIENT_ID` value used in the url must match the `client_id` value used when enabling streaming events. In the case of a single client only, defining the client\_id is not required (it will default to `0`).

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  {
      "access_control_allow_origin": "*",
      "worker_path": "index.js"
  }
  ```
</CollapsibleSection>

### FilterCriteria

The 'FilterCriteria' object allows you to filter the results based on specific parameters.

<CompactTable source="common.FractionalValue" />

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  #### Example

  ```json
  {
    "filter": {
      "status": "completed",
      "date_from": "2024-01-01T00:00:00Z",
      "date_to": "2024-07-01T00:00:00Z",
      "my_coin": "BTC",
      "other_coin": "ETH",
      "from_timestamp": 1672531200,
      "to_timestamp": 1704067200
    }
  }
  ```
</CollapsibleSection>

### FractionalValue

The `FractionalValue` object includes a [numerator and denominator](https://www.freemathhelp.com/numerator-denominator/) values for a given price or amount:

<CompactTable source="common.NumericFormatsValue" />

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  {
      "numer": "4561782244811",
      "denom": "4000000"
  }
  ```
</CollapsibleSection>

### NumericFormatsValue

The `NumericFormatsValue` returns a price or amount in three different formats: `fraction`, `rational`, and `decimal`.

<CompactTable source="common.PagingOptions" />

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  ```json
  {
    "decimal": "0.0001",
    "rational": [
      [1, [1]],
      [1, [10000]]
    ],
    "fraction": {
      "numer": "1",
      "denom": "10000"
    }
  }
  ```
</CollapsibleSection>

### PagingOptions

The `PagingOptions` object includes options of page selection to consult when looking for recent swaps:

<CompactTable source="common.Pagination" />

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  #### Example

  ```json
  {
    "paging_options": {
      "from_uuid": null,
      "limit": 10,
      "page_number": 1
    }
  }
  ```
</CollapsibleSection>

### Pagination

For requests which return many results, pagination offsets may be applied. \*\* Use either value, not both. \*\*

<CompactTable source="common.StreamingConfig" />

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  #### Example

  ```json
  {
      "PageNumber": 1
  }
  ```

  ```json
  {
      "FromId": 4
  }
  ```
</CollapsibleSection>

### RationalValue

The Komodo DeFi SDK now offers the [num-rational crate](https://crates.io/crates/num-rational) feature which allows for higher precision numeric values to represent order volumes and prices in a unique format as explained below:

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  ```json
  [
    [1, [0, 1]],
    [1, [1]]
  ]
  ```

  In the above unique format, the first item `[1,[0,1]]` is the `numerator` and the second item `[1,[1]]` is the `denominator`.

  The `numerator` and `denominator` are BigInteger numbers represented as a sign and a uint32 array (where numbers are 32-bit parts of big integer in little-endian order).

  `[1,[0,1]]` represents `+0000000000000000000000000000000010000000000000000000000000000000` = `4294967296`

  `[-1,[1,1]]` represents `-1000000000000000000000000000000010000000000000000000000000000000` = `-4294967297`
</CollapsibleSection>

### StreamingConfig

You can optionally apply more detailed configuration to event streaming methods.

<CompactTable source="common.StreamingFeeConfig" />

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  #### Example

  ```json
  {
      "stream_interval_seconds": 33.3
  }
  ```
</CollapsibleSection>

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  ### StreamingFeeConfig

  <CompactTable source="common.SyncStatus" />

  #### Example (stream::fee\_estimator::enable)

  ```json
  {
      "estimate_every": 33.3,
      "estimate_type": "Provider"
  }
  ```
</CollapsibleSection>

### SyncStatus

<CompactTable source="common.SyncStatusExtended" />

### SyncStatusExtended

<CompactTable source="common.WcConnNs" />

<CollapsibleSection expandedText="Hide Example" collapsedText="Show Example">
  #### Example

  ```json
  {
      "sync_status": {
        "state": "NotStarted"
      }
  }
  ```

  ```json
  {
      "sync_status": {
        "additional_info": {
          "transactions_left": 126
        },
        "state": "InProgress"
      }
  }
  ```

  ```json
  {
      "sync_status": {
        "state": "Finished"
      }
  }
  ```
</CollapsibleSection>

### WcConnNs

The `WcConnNs` object contains details of approved chains, methods and events while connected via [WalletConnect](https://specs.walletconnect.com/2.0/).

<CompactTable source="common.WcSession" />

<CollapsibleSection expandedText="Hide Examples" collapsedText="Show Examples">
  #### EIP155 Example

  ```json
  {
  	"chains": [
  		"eip155:1",      // ETH
  		"eip155:56",     // BNB
  		"eip155:137",    // POLYGON
  		"eip155:43114"   // AVAX
  	],
  	"methods": [
  		"eth_sendTransaction",
  		"eth_signTransaction",
  		"personal_sign"
  	],
  	"events": [
  		"accountsChanged",
  		"chainChanged"
  	]
  }
  ```

  #### Cosmos Example

  ```json
  {
  	"chains": [
  		"cosmos:cosmoshub-4",
  		"cosmos:osmosis-1",
  		"cosmos:irishub-1"
  	],
  	"methods": [
  	  	"cosmos_signDirect",
  		  "cosmos_signAmino",
  		  "cosmos_getAccounts"
  	],
  	"events": []
  }
  ```
</CollapsibleSection>

### WcSession

The `WcSession` object contains details of active WalletConnect sessions.

<CompactTable source="common.ErrorResponse" />

Within each session object, there are a some values which are required as input in other WalletConnect methods:

*   `pairing_topic`: Only used when initally connecting with external wallets/dapps.
*   `topic`: Once connected, this is use for communications with the connected external wallet/dapp.

### ErrorResponse

<CompactTable source="common.ErrorResponse" />
