export const title = "Komodo DeFi Framework: Coin Activation";
export const description =
  "Learn about the two methods of coin activation, enable and electrum.";

# Coin Activation

There are two methods of coin activation:

*   `enable` - Connects to a native daemon, or a url which handles RPCs for Platform coins (e.g. ETH, MATIC, FTM, BNB, ONE)
*   `electrum` - Connects to an [electrum server](https://github.com/kyuupichan/electrumx) for UTXO based coins and QTUM/QRC20 tokens.

A coin can only be activated once per session, and must be activated before it can be used in trading or wallet functions.

<Note type="warning">
  The Komodo DeFi Framework API requires an `mm2` parameter to be set for each `coin`. This can be added to the enable/electrum command, or defined in your [coins file](/komodo-defi-framework/tutorials/api-walkthrough/#setting-up-the-coin-list).

  The value of the `mm2` parameter informs the software as to whether the `coin` is expected to be compatible for atomic swaps.

  *   `0` = `non-compatible`
  *   `1` = `compatible`
</Note>

<Note type="info">
  Many examples of activation commands are available at [kmd.stats.io](https://stats.kmd.io/atomicdex/activation_commands/)
</Note>

## Native mode activation

If you are running a UTXO based coin daemon locally and the blockchain is synchronised, you can connect the local daemon to the Komodo DeFi Framework API by using the `enable` method, though some additional configuration is required. The Komodo DeFi Framework API requires the following options to be added to the native chain's [.conf file](https://bitcoincoredocs.com/bitcoin-conf.html).

```ini
logevents=1
txindex=1
addressindex=1
```

<Note>
  The Komodo DeFi Framework API node's coin address needs to be imported manually into the coin daemon using the [importaddress](/smart-chains/api/wallet/#importaddress) method.
</Note>

## Lite mode activation

Activating coins in 'lite mode' means you don't need to have a native coin daemon installed, or keep a local blockchain synchronised. In this mode, the Komodo DeFi Framework API communicates with an external node to perform transactions and query the blockchain. UTXO based coins and QTUM/QRC20 tokens communicate via electrum servers, while other platform coins communicate via JSON RPC urls.

Komodo DeFi Framework is a true cross chain, cross protocol Decentralized Exchange (DEX), allowing for trades between coins and tokens across many platforms and ecosystems, such as:

*   UTXO based coins (e.g. DOGE, BTC, BCH, KMD, ZEC, LTC, DASH, DGB)
*   [Ethereum (ETH)](https://ethereum.org/) & [ERC20 tokens](https://etherscan.io/tokens)
*   [Binance Coin (BNB)](https://coinmarketcap.com/currencies/bnb/) & [BEP20](https://www.coingecko.com/en?asset_platform_id=binance-coin) tokens
*   [QTUM](https://qtum.org) & [QRC20 tokens](https://qtum.info/qrc20)
*   [Polygon (MATIC)](https://polygon.technology/) & [PLG20 tokens](https://polygonscan.com/tokens)
*   [Harmony (ONE)](https://www.harmony.one/) & [HRC20 tokens](https://www.coingecko.com/en/categories/harmony-ecosystem)
*   [Fantom (FTM)](https://fantom.foundation/) & [FTM20 tokens](https://ftmscan.com/tokens)
*   [Avalanche (AVAX)](https://www.avax.network/) & [AVX20 tokens](https://avascan.info/)
*   [Moonriver (MOVR)](https://moonbeam.network/networks/moonriver/) & [MVR20 tokens](https://moonriver.moonscan.io/tokens)
*   And more!

## Electrum

<Note>
  Electrum mode is only available for UTXO based coins and QTUM/QRC20 tokens.
</Note>

#### Arguments

<CompactTable source="legacy/coin_activation.ElectrumArguments" />

#### Response

<CompactTable source="legacy/coin_activation.ElectrumResponse" />

#### ðŸ“Œ Examples

#### UTXO coin activation {{label : 'electrum', tag : 'legacy'}}

<CodeGroup title="Electrum Method" tag="POST" label="electrum" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyElectrumBch" />

<KdfResponses responseKey="legacy/coin_activation.LegacyElectrumBch" />

#### UTXO coin activation with `required_confirmations`, `requires_notarization` and `mm2` arguments {{label : 'electrum', tag : 'legacy'}}

<CodeGroup title="Electrum Method" tag="POST" label="electrum" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyElectrumKmd" />

<KdfResponses responseKey="legacy/coin_activation.LegacyElectrumKmd" />

#### QTUM/QRC20 coin activation {{label : 'electrum', tag : 'legacy'}}

<CodeGroup title="Electrum Method" tag="POST" label="electrum" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyElectrumQtum" />

<KdfResponses responseKey="legacy/coin_activation.LegacyElectrumQtum" />

#### Error responses

If mm2 is not set in either the command or your `coins` file, you will see the following error:

```json
{
  "error": "lp_coins:943] lp_coins:693] mm2 param is not set neither in coins config nor enable request, assuming that coin is not supported"
}
```

If min\_connected is \< 1, you will see the following error:

```json
{
  "error":"rpc:184] dispatcher_legacy:141] lp_commands_legacy:141] lp_coins:4462] utxo_standard:73] utxo_coin_builder:616] Internal error: manager:129] min_connected should be greater than 0"
}
```

If max\_connected is \< min\_connected, you will see the following error:

```json
{
  "error": "rpc:184] dispatcher_legacy:141] lp_commands_legacy:141] lp_coins:4462] utxo_standard:73] utxo_coin_builder:616] Internal error: manager:132] min_connected (2) must be <= max_connected (1)"
}
```

## Enable

#### Arguments

<CompactTable source="legacy/coin_activation.EnableArguments" />

#### Response

<CompactTable source="legacy/coin_activation.EnableResponse" />

#### ðŸ“Œ Examples

#### Native UTXO coin activation {{label : 'enable', tag : 'legacy'}}

<CodeGroup title="Enable Method" tag="POST" label="enable" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyEnableNative" />

<KdfResponses responseKey="legacy/coin_activation.LegacyEnableNative" />

#### Command (With `required_confirmations`, `requires_notarization` and `mm2` arguments)

<CodeGroup title="" tag="POST" label="enable" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyEnableNativeWithParams" />

<KdfResponses responseKey="legacy/coin_activation.LegacyEnableNativeWithParams" />

#### Command (for Ethereum and ERC20-based blockchains)

<CodeGroup title="" tag="POST" label="enable" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyEnableEth" />

<KdfResponses responseKey="legacy/coin_activation.LegacyEnableEth" />

#### EVM coin activation with gas\_station\_url and policy {{label : 'enable', tag : 'legacy'}}

<CodeGroup title="Enable Method" tag="POST" label="enable" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyEnableEthGasStation" />

<KdfResponses responseKey="legacy/coin_activation.LegacyEnableEthGasStation" />

#### Polygon (MATIC) and PLG20 activation {{label : 'enable', tag : 'legacy'}}

<CodeGroup title="Enable Method" tag="POST" label="enable" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyEnableMatic" />

<KdfResponses responseKey="legacy/coin_activation.LegacyEnableMatic" />

#### Binance Coin (BNB) and BEP20 activation {{label : 'enable', tag : 'legacy'}}

<CodeGroup title="Enable Method" tag="POST" label="enable" mm2MethodDecorate="true" source="legacy/coin_activation.LegacyEnableBnb" />

<KdfResponses responseKey="legacy/coin_activation.LegacyEnableBnb" />

For enabling Z coins, refer to the [ZHTLC activation tasks](/komodo-defi-framework/api/v20/coin_activation/task_managed/enable_z_coin/) in the v2.0 Dev API.

To see more examples for other platforms like Fantom, Avalanche & Harmony, you can search the [Komodo DeFi Framework API Coin Activation Commands List
](https://stats.kmd.io/atomicdex/activation_commands/) or build a single `batch` command to enable a set of selected coins via the
[Batch Coin Activation Form](https://stats.kmd.io/atomicdex/batch_activation_form/)

<Note>
  We welcome volunteers to test new coins for Komodo DeFi Framework API compatibility! Follow the [Submitting Coin Test Results guide](https://github.com/KomodoPlatform/coins#about-this-repository) for more information, or drop into the [Komodo Platform Discord Server](https://komodoplatform.com/discord) for a chat if you need some help.
</Note>
