export const title = "Komodo DeFi Framework Method: Buy";
export const description = "The buy method issues a buy request and attempts to match an order from the orderbook based on the provided arguments.";

# buy

**buy base rel price volume (match\_by order\_type base\_confs base\_nota rel\_confs rel\_nota min\_volume)**

The `buy` method issues a buy request and attempts to match an order from the orderbook based on the provided arguments.

<Note>
  *   Buy and sell methods always create the `taker` order first. A `taker` order must pay a `dexfee` during the swap as it is taking liquidity from the market. The `dexfee` is calculated as "the greater of either `Minimum transaction amount (dust) TAKER COIN` or `0.0001 TAKER COIN` or `1/777th` the size of the desired order". If your `GoodTillCancelled` order is not matched in 30 seconds, the order is automatically converted to a `maker` request and stays on the orderbook until the request is matched or cancelled. To always act as a maker, please use the [setprice](/komodo-defi-framework/api/legacy/setprice/) method.
  *   To prevent a user from making trades in which the transaction fees may end up costing a significant portion of the value of the trade, we have set a lower limit to the value of a trade. See the description of the `volume` and `min_volume` arguments for more info.
</Note>

## Arguments

<CompactTable source="legacy/swaps_and_orders.BuyRequest" />

## Response

<CompactTable source="legacy/swaps_and_orders.BuyResponse" />

Each object inside the `result` map is a standard [OrderDataV1](/komodo-defi-framework/api/common_structures/orders/#order-data-v1) entry describing the order that was created.

#### ðŸ“Œ Examples

#### Command (decimal representation)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyDecimal" />

#### Command (rational representation in num-rational crate format)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyRationalArray" />

#### Command (rational representation as fraction object)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyFraction" />

#### Command (with confirmations and notarization settings)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyWithConfSettings" />

#### Command (set to not save order history)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyNoHistory" />

#### Command (GoodTillCancelled type)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyGoodTillCancelled" />

#### Command (FillOrKill type)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyFillOrKill" />

#### Command (match by Any)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyMatchAny" />

#### Command (match by Pubkeys)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyMatchPubkeys" />

#### Command (match by Orders)

<CodeGroup title="" tag="POST" label="buy" mm2MethodDecorate="true" source="legacy/swaps_and_orders.BuyMatchOrders" />

<CollapsibleSection expandedText="Hide Response" collapsedText="Show Response">
  <KdfResponses responseKey="legacy/swaps_and_orders.BuySuccess" />

  <KdfResponses responseKey="legacy/swaps_and_orders.BuyErrorInsufficientBalance" />

  <KdfResponses responseKey="legacy/swaps_and_orders.BuyErrorAmountTooLarge" />
</CollapsibleSection>
