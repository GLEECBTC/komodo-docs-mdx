export const title = "Komodo DeFi Framework Method: Sign Message";
export const description = "The method in this document allows you to sign messages for all coins supported by Komodo DeFi Framework.";


# Sign Message

## sign\_message {{label : 'sign_message', tag : 'API-v2'}}

The `sign_message` method allows you to prove ownership of a specific wallet address. A unique digital signature is provided for the message being signed. This signature, along with the original message and the wallet address, can then be verified, confirming that the message originated from the owner of the address and has not been altered.

### Request Parameters

<CompactTable source="v2/utils.SignMessageRequest" />

### Response Parameters

<CompactTable source="v2/utils.SignMessageResponse" />

#### üìå Examples

##### Basic Usage

<CodeGroup title="Sign Message" tag="POST" label="sign_message" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "method": "sign_message",
    "mmrpc": "2.0",
    "id": 0,
    "params": {
      "coin": "DOC",
      "message": "Between subtle shading and the absence of light lies the nuance illusion"
    }
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Sign Message Response" collapsedText="Show Sign Message Response">
  ### Response (success)

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "signature": "H43eTmJxBKEPiHkrCe/8NsRidkKCIkXDxLyp30Ez/RwoApGdg89Hlvj9mTMSPGp8om5297zvdL8EVx3IdIe2swY="
      },
      "id": 0
  }
  ```
</CollapsibleSection>

##### HD Wallet with Derivation Path

<CodeGroup title="Sign Message (HD Wallet)" tag="POST" label="sign_message" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "mmrpc": "2.0",
    "method": "sign_message",
    "params": {
      "coin": "KMD",
      "message": "Very little worth knowing is taught by fear.",
      "address": {
        "derivation_path": "m/84'/2'/0'/0/1"
      }
    },
    "id": 2
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Sign Message (HD Wallet) Response" collapsedText="Show Sign Message (HD Wallet) Response">
  ### Response (HD, success)

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "signature": "H8Jk+O21IJ0ob3pchrBkJdlXeObrMAKuABlCtW4JySOUUfxg7K8Vl/H3E4gdtwXqhbCu7vv+NYoIhq/bmjtBlkc="
      },
      "id": 2
  }
  ```
</CollapsibleSection>

##### HD Wallet with Account and Address ID

<CodeGroup title="HD Wallet with Account and Address ID" tag="POST" label="sign_message" mm2MethodDecorate="true">
  ```json
  {
    "userpass": "RPC_UserP@SSW0RD",
    "mmrpc": "2.0",
    "method": "sign_message",
    "params": {
      "coin": "KMD",
      "message": "Very little worth knowing is taught by fear.",
      "address": {
        "account_id": 0,
        "chain": "External",
        "address_id": 1
      }
    },
    "id": 2
  }
  ```
</CodeGroup>

<CollapsibleSection expandedText="Hide Sign Message (HD Wallet, Account/Address ID) Response" collapsedText="Show Sign Message (HD Wallet, Account/Address ID) Response">
  ### Response (HD, success)

  ```json
  {
      "mmrpc": "2.0",
      "result": {
          "signature": "H8Jk+O21IJ0ob3pchrBkJdlXeObrMAKuABlCtW4JySOUUfxg7K8Vl/H3E4gdtwXqhbCu7vv+NYoIhq/bmjtBlkc="
      },
      "id": 2
  }
  ```
</CollapsibleSection>

<Note type="info">
  For HD wallets, if the `address` parameter is not provided, the root derivation path will be used, for example, `m/84'/2'/0'/0/0`.
  The two examples above point to the same address. The derivation path follows the format `m/44'/COIN_ID'/ACCOUNT_ID'/CHAIN/ADDRESS_ID` (or `m/84'/COIN_ID'/ACCOUNT_ID'/CHAIN/ADDRESS_ID` for segwit coins).
  The `account_id` and `address_id` are the indices of the account and address in the wallet, starting from `0`.
  The `chain` is either `External` or `Internal`, and is expressed as an integer with `External` being `0` and `Internal` being `1`.
</Note>

### Error Types

<CompactTable source="v2/utils.SignMessageErrors" />

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  #### ‚ö†Ô∏è Error Responses

  ##### PrefixNotFound

  ```json
  {
      "mmrpc": "2.0",
      "error": "sign_message_prefix is not set in coin config",
      "error_path": "eth",
      "error_trace": "eth:2332]",
      "error_type": "PrefixNotFound",
      "id": null
  }
  ```

  ##### InternalError

  ```json
  {
      "mmrpc": "2.0",
      "error": "Internal error: No such coin: as",
      "error_path": "lp_coins",
      "error_trace": "lp_coins:5122] lp_coins:5034]",
      "error_type": "InternalError",
      "error_data": "No such coin: SHEKEL",
      "id": null
  }
  ```
</CollapsibleSection>
