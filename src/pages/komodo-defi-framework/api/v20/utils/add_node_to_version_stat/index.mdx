export const title = "Komodo DeFi Framework Method: Add Node to Version Stat";
export const description = "The add_node_to_version_stat method adds a Node's name, IP address, and PeerID to a local database to track which version of KDF it is running.";

# Add Node to Version Stat

## add\_node\_to\_version\_stat {{label : 'add_node_to_version_stat', tag : 'API-v2'}}

The `add_node_to_version_stat` method adds a node's name, IP address, and PeerID to a local database to track which version of KDF it is running. The `name` parameter is an arbitrary identifying string, such as `seed_alpha` or `dragonhound_DEV`. The `address` parameter is the node's IP address or domain name. The Peer ID can be found in the KDF log file after a connection has been initiated, and looks like the below:

`07 09:33:58, atomicdex_behaviour:610] INFO Local peer id: PeerId("12D3KooWReXsTVCKGAna1tzrD1jaUttTSs17ULFuvvzoGD9bqmmA")`

<Note>
  To allow collection of version stats, added nodes must open ports 42845 (tcp) and 42855 (ws).
</Note>

### Request Parameters

<CompactTable source="v2/utils.AddNodeToVersionStatRequest" />

<CodeGroup title="" tag="POST" label="enable_tendermint_token" mm2MethodDecorate="true" source="v2/utils.AddNodeToVersionStat" />

### Response Parameters

<CompactTable source="v2/utils.AddNodeToVersionStatResponse" />

<KdfResponses responseKey="v2/utils.AddNodeToVersionStat" />

### Error Types

<CompactTable source="v2/utils.AddNodeToVersionStatErrors" />

<CollapsibleSection expandedText="Hide Error Responses" collapsedText="Show Error Responses">
  #### ⚠️ Error Responses

  ##### DatabaseError (Unique Constraint - Peer ID)

  ```json
  {
      "mmrpc": "2.0",
      "error": "Database error: UNIQUE constraint failed: nodes.peer_id",
      "error_path": "lp_stats",
      "error_trace": "lp_stats:124]",
      "error_type": "DatabaseError",
      "error_data": "UNIQUE constraint failed: nodes.peer_id",
      "id": null
  }
  ```

  ##### DatabaseError (Unique Constraint - Name)

  ```json
  {
      "mmrpc": "2.0",
      "error": "Database error: UNIQUE constraint failed: nodes.name",
      "error_path": "lp_stats",
      "error_trace": "lp_stats:124]",
      "error_type": "DatabaseError",
      "error_data": "UNIQUE constraint failed: nodes.name",
      "id": null
  }
  ```

  ##### PeerIdParseError

  ```json
  {
      "mmrpc": "2.0",
      "error": "Error on parse peer id 12D3RsaaWRmXsJsCKGAD5FJSsd7CSbbdrsd: decoding multihash failed",
      "error_path": "lp_stats",
      "error_trace": "lp_stats:121]",
      "error_type": "PeerIdParseError",
      "error_data": [
          "12D3RsaaWRmXsJsCKGAD5FJSsd7CSbbdrsd",
          "decoding multihash failed"
      ],
      "id": null
  }
  ```
</CollapsibleSection>
